#pragma config(Sensor, in8,    Gyro,           sensorGyro)
#pragma config(Motor,  port1,           rightMotor,    tmotorNormal, openLoop, reversed)
#pragma config(Motor,  port10,          leftMotor,     tmotorNormal, openLoop)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

//Adjust SensorScale to correct the scaling for your gyro
//SensorScale[in8] = 260;
//Adjust SensorFullCount to set the "rollover" point. A value of 3600 sets the rollover point to +/-3600
//SensorFullCount[in8] = 3600;

bool turn = false;
int needed_value;
int error;
int Position;
const int right = 1;
const int left = 2;
void clearmotor()
{
  motor[leftMotor] = 0;
  motor[rightMotor] = 0;
}
void cleardriftright()
{
  motor[leftMotor] = -10;
  motor[rightMotor] = 10;
  wait1Msec(250);
  clearmotor;
}
void cleardriftleft()
{
  motor[leftMotor] = 10;
  motor[rightMotor] = -10;
  wait1Msec(250);
  clearmotor;
  }


int getGyro()
{
  return SensorValue[Gyro];

}

void ClearGyro()
{
  SensorType[in8] = sensorNone;
  wait1Msec(1000);
  SensorType[in8] = sensorGyro;
  wait1Msec(2000);
}


void turn2(degrees)
{
  ClearGyro();
  while(abs(SensorValue[Gyro]) <= degrees*10)
  {
    motor[leftMotor] = -50;
    motor[rightMotor] = 50;
  }
  clearmotor();
}

void Gyro_turn2(int degrees, int direction, int speed)
{
  ClearGyro();
  switch (direction)
  {
  case right:
    {

      while(abs(SensorValue[Gyro]) > degrees*10 +10 || abs(SensorValue[Gyro]) < degrees*10 -10)
      {
        motor[leftMotor] = speed;
        motor[rightMotor] = -speed;
      }
     cleardriftright();


    }

    break;
  case left:
    {

      while(abs(SensorValue[Gyro]) > degrees*10 +10 || abs(SensorValue[Gyro]) < degrees*10 -10)
      {
        motor[leftMotor] = -speed;
        motor[rightMotor] = speed;
      }
           cleardriftleft();


    }

  }//switch

}


task main()
{
  Gyro_turn2(90,right,31);
  Gyro_turn2(90,left,31);


}
